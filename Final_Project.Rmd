---
title: "Final Project"
author: "Lihao Liu, Zikang Chen, Hinn Zhang"
output: 
  html_document:
    toc: true
    toc_float: true
---

## R Markdown

Here we will load all the packages we need for this project.

```{r message=FALSE, warning=FALSE}
library(tidyverse)
library(dplyr)
library(skimr)
```

## Introduction



## Questions

1. Does a movie released during a holiday season tend to receive a lower rating?

## Data

The data set we are going to explore is about Netflix Movies and TV Shows. 

### Data Import

Here we will import the csv file into the studio and take a look at the data set:

```{r}
data <- read_csv("netflix_titles.csv")
movies <- read_csv("n_movies.csv")
glimpse(data)
glimpse(movies)
```

### Data Wrangling

Since the data set we eventually wish to utilize is not two separate tibbles, we need to find a way to take the combination of two data sets and conduct our analysis from the integrated tibble.

First, we will merge the two data sets so as to get each movie's rating and votes and also leave only movies with us, since we are not considering TV shows.

```{r}
#filter out only movies
data <- data |> filter(type == "Movie")

#get only the rating and voting columns
movies <- movies[, c("title", "rating", "votes")]

#merge the two data sets
merged <- merge(data, movies, by = "title")
glimpse(merged)
```

Then we want to rename the columns to make their names consistent. We also want to change the format of the date column from character to date for easier access. Moreover, we extract the month from the date so that we can generate plots in the EDA section.
```{r}
# rename columns
merged <- merged |>
  rename("certificate" = "rating.x",
         "rating" = "rating.y")

# convert dates from character to date type
merged$date_added <- mdy(merged$date_added)

# create a month column
merged$month <- month(merged$date_added)
```

```{r}

```


## Analysis

### Exploratory Data Analysis

We first want to see when the movies are released in this dataset.
```{r}
merged |>
  ggplot(aes(x = release_year)) +
  geom_bar() +
  labs(x = "Year released",
       y = "Number of movies",
       title = "Most movies released after 2010") +
  theme(text = element_text(size = 15),
        plot.title.position = "plot")
```

We see that most movies are released after 2010, which suggest most movies are contemporary, so we might be able to draw conclusions using our current knowledge.

We also want to see what ratings do movies generally receive.
```{r}
merged |>
  ggplot(aes(x = rating)) +
  geom_bar() +
  labs(x = "Audience rating",
       y = "Number of movies",
       title = "Most movies receive rating of 5 - 7") +
  theme(text = element_text(size = 15),
        plot.title.position = "plot")
```

The plot shows most movies receive a rating in the range of 5 to 7, so we can infer that a rating above 7 tends to be a high rating, while a rating below 5 tends to be a low rating.

We also want to see when movies are added to Netflix in a year.
```{r}
merged |>
  ggplot(aes(x = month)) +
  geom_bar() +
  labs(x = "Month added",
       y = "Number of movies",
       title = "Movies are added all year round to Netflix") +
  scale_x_continuous(breaks = seq(1, 12)) +
  theme(text = element_text(size = 15),
        plot.title.position = "plot")
```

The visualization shows movies are added to Netflix all year round, and there is a roughly even distribution of movies across all months. Therefore, we can safely carry out our analysis when we compare holiday seasons to non-holiday seasons.

### Data Analysis



### Results


## Conclusion



